fragment AuthorAndPublicationCount on Author {
  id
  authorId
  fullName
  publicationAuthorsByAuthorId {
    totalCount
  }
}

query GetAllAuthors {
  allAuthors {
    nodes {
      ...AuthorAndPublicationCount
    }
  }
}

fragment AuthorAndChildPublications on Author {
  id
  authorId
  fullName
  publicationAuthorsByAuthorId {
    nodes {
      publicationByPublicationId {
        id
        title
        publicationId
      }
    }
    totalCount
  }
}

query GetAllAuthorsAndChildPublications {
  allAuthors {
    nodes {
      ...AuthorAndChildPublications
    }
  }
}

query GetAuthorAndChildPublications($id: ID!) {
  author(id: $id) {
    ...AuthorAndChildPublications
  }
}

mutation DeleteAuthorByAuthorId($authorId: String!) {
  __typename
  deleteAuthorByAuthorId(input: {authorId: $authorId}) {
    author {
      accountId
      authorId
      fullName
    }
  }
}